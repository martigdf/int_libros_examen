<ion-app>
    @if (isLoggedIn() == true) {
      <ion-menu contentId="main-content">
          
        @if (changeUserPhoto() == false) {

          <ion-menu-toggle>
            <ion-item (click)="perfilUsuario(usuarioId())" style="cursor: pointer;">
              <ion-label slot="start">{{ this.mainStore.userUsername() }}</ion-label>
              <ion-avatar aria-hidden="true" slot="end">
                <img alt="" src="{{ this.userPhoto() }}" />
              </ion-avatar>
            </ion-item>
          </ion-menu-toggle>

        } @else {

          <ion-menu-toggle>
            <ion-item (click)="perfilUsuario(usuarioId())" style="cursor: pointer;">
              <ion-label slot="start">{{ this.mainStore.userUsername() }}</ion-label>
              <ion-avatar aria-hidden="true" slot="end">
                <img alt="" src="{{ this.userPhoto() }}" />
              </ion-avatar>
            </ion-item>
          </ion-menu-toggle>          

        }
        
        <ion-content class="ion-padding">

          @if (mainStore.isUser()) {

            <ng-container>
              <ion-button 
                expand="block" 
                (click)="publicarLibro()">
                Publicar libro
              </ion-button>

              <ion-button 
                expand="block" 
                (click)="misLibros()">
                Mis Libros
              </ion-button>

              <ion-button 
                expand="block" 
                (click)="misSolicitudes()">
                Solicitudes
              </ion-button>

              <ion-button 
                expand="block" 
                (click)="misRecibidas()">
                Solicitudes Recibidas
              </ion-button>

            </ng-container>

          } @else if (mainStore.isAdmin()) {

            <ng-container>
              <ion-button 
                expand="block" 
                (click)="verUsuariosList()">
                ver usuarios listados
              </ion-button>

              <ion-button 
                expand="block" 
                (click)="verLibrosList()">
                ver libros listados
              </ion-button>
            </ng-container>

          }

          <ion-button 
            expand="block" 
            color="danger" 
            *ngIf="isLoggedIn()" 
            (click)="logout()"
            style="margin-top: 60px;">
            Cerrar Sesión
          </ion-button>
    
        </ion-content>
      </ion-menu>
    }
    
    <div class="ion-page" id="age-content">
      <ion-header>
        <ion-toolbar>
          <ion-buttons slot="start">
            <ion-menu-button></ion-menu-button>
          </ion-buttons>
          <ng-container *ngIf="mainStore.isUser()">
            @if (!isHome()) {
              <ion-buttons slot="end">
                <ion-button (click)="goHome()">Home</ion-button>
              </ion-buttons>
            }
          </ng-container>
          <ion-title>Página de libros</ion-title>
        </ion-toolbar>
      </ion-header>
      <ion-content class="ion-padding"> 
        <ion-router-outlet id="main-content"></ion-router-outlet> 
      </ion-content>
    </div>
</ion-app>